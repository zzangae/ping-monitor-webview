# Ping Monitor - WebView2 Integrated Version

## ğŸ¯ íŠ¹ì§•

- **ë‹¨ì¼ EXE ì‹¤í–‰** - HTML íŒŒì¼ ì—†ì´ ì‹¤í–‰ íŒŒì¼ í•˜ë‚˜ë¡œ ë™ì‘
- **ì§ì ‘ ë©”ì‹œì§€ í†µì‹ ** - íŒŒì¼ I/O ì—†ì´ PostWebMessageAsJsonìœ¼ë¡œ ì‹¤ì‹œê°„ í†µì‹ 
- **ë‚´ì¥ ë¸Œë¼ìš°ì €** - Edge WebView2ë¡œ ë„¤ì´í‹°ë¸Œ ì„±ëŠ¥ + ì›¹ UIì˜ ìœ ì—°ì„±

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ping_monitor.exe (ë‹¨ì¼ ì‹¤í–‰ íŒŒì¼)               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   PostMessage    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  C í•‘ ì—”ì§„  â”‚ â—€â•â•â•â•â•â•â•â•â•â•â•â•â•â–¶  â”‚ WebView2 â”‚  â”‚
â”‚  â”‚  - ICMP     â”‚   (ì§ì ‘ í†µì‹ )    â”‚ (ë‚´ì¥)   â”‚  â”‚
â”‚  â”‚  - íƒ€ì´ë¨¸   â”‚                  â”‚ Chart.js â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“¦ íŒŒì¼ êµ¬ì¡°

```
ping_monitor_webview/
â”œâ”€â”€ ping_monitor_integrated.c   # ë©”ì¸ ì†ŒìŠ¤ ì½”ë“œ
â”œâ”€â”€ embedded_html.h             # ë‚´ì¥ HTML/CSS/JS
â”œâ”€â”€ ping_config.ini             # IP ì„¤ì • íŒŒì¼
â”œâ”€â”€ build_integrated.bat        # ë¹Œë“œ ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ download_webview2.bat       # WebView2Loader ë‹¤ìš´ë¡œë“œ
â””â”€â”€ dist/                       # ë°°í¬ í´ë”
    â”œâ”€â”€ ping_monitor.exe
    â”œâ”€â”€ WebView2Loader.dll
    â””â”€â”€ ping_config.ini
```

## ğŸ”§ ë¹Œë“œ ë°©ë²•

### 1. í•„ìˆ˜ ìš”êµ¬ì‚¬í•­

- **MinGW-w64** (GCC for Windows)
  - ë‹¤ìš´ë¡œë“œ: https://winlibs.com/
  - ë˜ëŠ” MSYS2: `pacman -S mingw-w64-x86_64-gcc`

- **WebView2Loader.dll**
  - ìë™ ë‹¤ìš´ë¡œë“œ: `download_webview2.bat` ì‹¤í–‰
  - ìˆ˜ë™ ë‹¤ìš´ë¡œë“œ: https://www.nuget.org/packages/Microsoft.Web.WebView2

### 2. ë¹Œë“œ ì‹¤í–‰

```batch
# 1. WebView2Loader.dll ë‹¤ìš´ë¡œë“œ (ìµœì´ˆ 1íšŒ)
download_webview2.bat

# 2. ë¹Œë“œ
build_integrated.bat
```

### 3. ìˆ˜ë™ ì»´íŒŒì¼ (ì„ íƒì‚¬í•­)

```batch
gcc -o ping_monitor.exe ping_monitor_integrated.c ^
    -lws2_32 -liphlpapi -lshlwapi -lole32 -loleaut32 ^
    -mwindows -municode -O2
```

## ğŸš€ ì‹¤í–‰ ë°©ë²•

1. `dist` í´ë”ë¡œ ì´ë™
2. `ping_monitor.exe` ì‹¤í–‰
3. ìë™ìœ¼ë¡œ ëª¨ë‹ˆí„°ë§ ì‹œì‘

### ì‹¤í–‰ ìš”êµ¬ì‚¬í•­

- Windows 10 ë²„ì „ 1803 ì´ìƒ
- Microsoft Edge WebView2 Runtime (ëŒ€ë¶€ë¶„ ê¸°ë³¸ ì„¤ì¹˜ë¨)

## âš™ï¸ ì„¤ì •

### ping_config.ini

```ini
# í˜•ì‹: IPì£¼ì†Œ,ì„¤ëª…
8.8.8.8,Google DNS
1.1.1.1,Cloudflare
168.126.63.1,KT DNS
192.168.1.1,Gateway
```

## ğŸ¨ UI ê¸°ëŠ¥

| ê¸°ëŠ¥                | ì„¤ëª…                       |
| ------------------- | -------------------------- |
| ğŸ“ˆ ì‹¤ì‹œê°„ ê·¸ë˜í”„    | Chart.js ê¸°ë°˜ Area Chart   |
| ğŸ¯ IP ë¹„êµ íƒ€ì„ë¼ì¸ | ëª¨ë“  IPì˜ ì§€ì—° ì‹œê°„ ë¹„êµ   |
| ğŸ—ºï¸ íŒ¨í‚· íˆíŠ¸ë§µ      | ìµœê·¼ 60ì´ˆ íŒ¨í‚· ìƒíƒœ ì‹œê°í™” |
| ğŸ“Š í†µê³„             | í‰ê· /ìµœëŒ€/ìµœì†Œ/ì†ì‹¤ë¥       |
| ğŸŒ™ ë‹¤í¬ í…Œë§ˆ        | ëˆˆì— í¸í•œ ë‹¤í¬ ëª¨ë“œ        |

## ğŸ”„ ê¸°ì¡´ ë²„ì „ê³¼ ë¹„êµ

| í•­ëª©      | ê¸°ì¡´ (íŒŒì¼ í†µì‹ ) | í†µí•© ë²„ì „     |
| --------- | ---------------- | ------------- |
| ì‹¤í–‰ íŒŒì¼ | EXE + HTML       | EXEë§Œ         |
| í†µì‹  ì§€ì—° | ~1ì´ˆ (íŒŒì¼ I/O)  | ì¦‰ì‹œ (ë©”ëª¨ë¦¬) |
| ë°°í¬      | ì—¬ëŸ¬ íŒŒì¼        | 2ê°œ íŒŒì¼      |
| ë¸Œë¼ìš°ì €  | ë³„ë„ ì‹¤í–‰        | ë‚´ì¥          |

## ğŸ› ï¸ ê°œë°œ ë…¸íŠ¸

### WebView2 COM ì¸í„°í˜ì´ìŠ¤

MinGWì—ì„œ WebView2ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ COM ì¸í„°í˜ì´ìŠ¤ë¥¼ ìˆ˜ë™ìœ¼ë¡œ ì •ì˜:

- ICoreWebView2
- ICoreWebView2Controller
- ICoreWebView2Environment
- ì½œë°± í•¸ë“¤ëŸ¬ë“¤

### C â†” JavaScript í†µì‹ 

**C â†’ JS**: `PostWebMessageAsJson(json)` â†’ `chrome.webview.addEventListener('message', ...)`

**JS â†’ C**: `chrome.webview.postMessage(cmd)` â†’ `WebMessageReceived` í•¸ë“¤ëŸ¬

## ğŸ“‹ TODO

- [ ] 3D ë„¤íŠ¸ì›Œí¬ ë§µ (Three.js)
- [ ] ì§€ë„ ê¸°ë°˜ IP ìœ„ì¹˜ (Leaflet)
- [ ] ì‹œìŠ¤í…œ íŠ¸ë ˆì´ ìµœì†Œí™”
- [ ] ë¦¬í¬íŠ¸ ìƒì„± (PDF/Excel)
- [ ] ì•Œë¦¼ ì‹œìŠ¤í…œ (í† ìŠ¤íŠ¸/ì‚¬ìš´ë“œ)

## ğŸ“œ ë¼ì´ì„ ìŠ¤

MIT License
